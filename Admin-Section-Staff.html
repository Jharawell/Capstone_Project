<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CentralComm</title>
  <link rel="stylesheet" href="Dashboard-Styles.css">
</head>
<body>
  <div class="container">
    <nav>
      <ul>
        <li class="centralcomm">
          <div class="centralcomm-box"><a href="#">CentralComm</a></div>
        </li>
      </ul>
      <div class="menu-divider"></div>
      <ul class="top-menu">
        <li><a href="Receiving-Section-Staff.html"><i class="home-icon"></i> Home</a></li>
        <li><a href="Receiving-Archived.html"><i class="archive-icon"></i> Archived</a></li>
        <li><a href="Receiving-Notifications.html"><i class="notification-icon"></i> Notifications</a></li>
      </ul>
      <ul class="bottom-menu">
<<<<<<< HEAD
=======
        <li><a href="Receiving-Contact-Us.html"><i class="contact-icon"></i> Contact Us</a></li>
>>>>>>> 19c59567843a7287a4a651cb05ff249349eed3de
        <li><a href="select-user-type.html"><i class="logout-icon"></i> Log Out</a></li>
      </ul>
    </nav>

    <main>
      <div class="main-content">
        <div class="home-section">
          <header>
            <div class="greeting"><strong>Administrative Office</strong></div>
          </header>

          <div class="menu-divider2"></div>

          <div class="top-bar">
            <button class="new-item-button" onclick="addNewItemTable()">New Item</button>
            <input class="search-bar" id="search-bar" type="text" placeholder="Search">
          </div>
          <div class="drawer-template" id="drawer-template">
            <div class="drawer-container">
              <button class="toggle-drawer-button" onclick="toggleDrawerState()">Open</button>
              <div class="drawer" style="display: none;">
                <h4 id="month-header">
                  <span id="header-text">January</span>
                  <button id="edit-button" onclick="toggleEdit()"><i class="edit-icon"></i><span id="button-text">Edit</span></button>
                </h4>
                <input id="edit-input" type="text" style="display: none;" onblur="saveHeader()" />
                <div class="receiving-list-container">
                  <table class="receiving-list" style="margin: 20px auto; border-collapse: collapse; width: 10%;">
                    <thead>
                      <tr>
                        <th> </th>
                        <th>Time Received</th>
                        <th>Date Received</th>
                        <th>Ctrl No.</th>
                        <th>From</th>
                        <th>Office</th>
                        <th>Subject</th>
                        <th>Time Received</th>
                        <th>Date Received</th>
                        <th>Endorsed To</th>
                        <th>Remarks</th>
                        <th>File Code (For record keeping)</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody id="tbody1"></tbody>
                  </table>
                </div>
                <button id="bottom-button" onclick="editJanuaryAdmin()">Add/Update</button>
              </div>
            </div>
            <!-- <div class="drawer-container">
              <button class="toggle-drawer-button" onclick="toggleDrawerState()">Open</button>
              <div class="drawer" style="display: none;">
                <h4 id="month-header1">
                  <span id="header-text1">January</span>
                  <button id="edit-button1" onclick="toggleEdit()"><i class="edit-icon"></i><span id="button-text1">Edit</span></button>
                </h4>
                <input id="edit-input1" type="text" style="display: none;" onblur="saveHeader()" />
                <div class="receiving-list-container">
                  <table class="receiving-list" style="margin: 20px auto; border-collapse: collapse; width: 10%;">
                    <thead>
                      <tr>
                        <th> </th>
                        <th>Time Received</th>
                        <th>Date Received</th>
                        <th>Ctrl No.</th>
                        <th>From</th>
                        <th>Office</th>
                        <th>Subject</th>
                      </tr>
                    </thead>
                    <tbody id="tbody2"></tbody>
                  </table>
                </div>
                <button id="bottom-button1"></button>
              </div>
            </div>
            <div class="drawer-container">
              <button class="toggle-drawer-button" onclick="toggleDrawerState()">Open</button>
              <div class="drawer" style="display: none;">
                <h4 id="month-header2">
                  <span id="header-text2">January</span>
                  <button id="edit-button2" onclick="toggleEdit()"><i class="edit-icon"></i><span id="button-text2">Edit</span></button>
                </h4>
                <input id="edit-input2" type="text" style="display: none;" onblur="saveHeader()" />
                <div class="receiving-list-container">
                  <table class="receiving-list" style="margin: 20px auto; border-collapse: collapse; width: 10%;">
                    <thead>
                      <tr>
                        <th> </th>
                        <th>Time Received</th>
                        <th>Date Received</th>
                        <th>Ctrl No.</th>
                        <th>From</th>
                        <th>Office</th>
                        <th>Subject</th>
                      </tr>
                    </thead>
                    <tbody id="tbody3"></tbody>
                  </table>
                </div>
                <button id="bottom-button2"></button>
              </div>
            </div>
            <div class="drawer-container">
              <button class="toggle-drawer-button" onclick="toggleDrawerState()">Open</button>
              <div class="drawer" style="display: none;">
                <h4 id="month-header3">
                  <span id="header-text3">January</span>
                  <button id="edit-button3" onclick="toggleEdit()"><i class="edit-icon"></i><span id="button-text3">Edit</span></button>
                </h4>
                <input id="edit-input3" type="text" style="display: none;" onblur="saveHeader()" />
                <div class="receiving-list-container">
                  <table class="receiving-list" style="margin: 20px auto; border-collapse: collapse; width: 10%;">
                    <thead>
                      <tr>
                        <th> </th>
                        <th>Time Received</th>
                        <th>Date Received</th>
                        <th>Ctrl No.</th>
                        <th>From</th>
                        <th>Office</th>
                        <th>Subject</th>
                      </tr>
                    </thead>
                    <tbody id="tbody4"></tbody>
                  </table>
                </div>
                <button id="bottom-button3"></button>
              </div>
            </div>
            <div class="drawer-container">
              <button class="toggle-drawer-button" onclick="toggleDrawerState()">Open</button>
              <div class="drawer" style="display: none;">
                <h4 id="month-header4">
                  <span id="header-text4">January</span>
                  <button id="edit-button4" onclick="toggleEdit()"><i class="edit-icon"></i><span id="button-text4">Edit</span></button>
                </h4>
                <input id="edit-input4" type="text" style="display: none;" onblur="saveHeader()" />
                <div class="receiving-list-container">
                  <table class="receiving-list" style="margin: 20px auto; border-collapse: collapse; width: 10%;">
                    <thead>
                      <tr>
                        <th> </th>
                        <th>Time Received</th>
                        <th>Date Received</th>
                        <th>Ctrl No.</th>
                        <th>From</th>
                        <th>Office</th>
                        <th>Subject</th>
                      </tr>
                    </thead>
                    <tbody id="tbody5"></tbody>
                  </table>
                </div>
                <button id="bottom-button4"></button>
              </div>
            </div>
            <div class="drawer-container">
              <button class="toggle-drawer-button" onclick="toggleDrawerState()">Open</button>
              <div class="drawer" style="display: none;">
                <h4 id="month-header5">
                  <span id="header-text5">January</span>
                  <button id="edit-button5" onclick="toggleEdit()"><i class="edit-icon"></i><span id="button-text5">Edit</span></button>
                </h4>
                <input id="edit-input5" type="text" style="display: none;" onblur="saveHeader()" />
                <div class="receiving-list-container">
                  <table class="receiving-list" style="margin: 20px auto; border-collapse: collapse; width: 10%;">
                    <thead>
                      <tr>
                        <th> </th>
                        <th>Time Received</th>
                        <th>Date Received</th>
                        <th>Ctrl No.</th>
                        <th>From</th>
                        <th>Office</th>
                        <th>Subject</th>
                        <th>Time Received</th>
                        <th>Date Received</th>
                        <th>Endorsed To</th>
                        <th>Remarks</th>
                        <th>Delivered Letter Response</th>
                        <th>Time Delivered</th>
                        <th>Date Delivered</th>
                        <th>Messenger</th>
                        <th>File Code (For record keeping)</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody id="tbody6"></tbody>
                  </table>
                </div>
                <button id="bottom-button5"></button>
              </div>
            </div>
            <div class="drawer-container">
              <button class="toggle-drawer-button" onclick="toggleDrawerState()">Open</button>
              <div class="drawer" style="display: none;">
                <h4 id="month-header6">
                  <span id="header-text6">January</span>
                  <button id="edit-button6" onclick="toggleEdit()"><i class="edit-icon"></i><span id="button-text6">Edit</span></button>
                </h4>
                <input id="edit-input6" type="text" style="display: none;" onblur="saveHeader()" />
                <div class="receiving-list-container">
                  <table class="receiving-list" style="margin: 20px auto; border-collapse: collapse; width: 10%;">
                    <thead>
                      <tr>
                        <th> </th>
                        <th>Time Received</th>
                        <th>Date Received</th>
                        <th>Ctrl No.</th>
                        <th>From</th>
                        <th>Office</th>
                        <th>Subject</th>
                        <th>Time Received</th>
                        <th>Date Received</th>
                        <th>Endorsed To</th>
                        <th>Remarks</th>
                        <th>Delivered Letter Response</th>
                        <th>Time Delivered</th>
                        <th>Date Delivered</th>
                        <th>Messenger</th>
                        <th>File Code (For record keeping)</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody id="tbody7"></tbody>
                  </table>
                </div>
                <button id="bottom-button6"></button>
              </div>
            </div> -->
            
            
            
          
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
  <script type="module">
          import { initializeApp } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js";
          import {getDatabase, ref, child, onValue, get, set, update, remove}from "https://www.gstatic.com/firebasejs/11.1.0/firebase-database.js";
          const firebaseConfig = {
              apiKey: "AIzaSyCaSHRLbIRWW8COl5iwHb19dMDYYLJ2DIk",
              authDomain: "centralcomm-248a9.firebaseapp.com",
              databaseURL: "https://centralcomm-248a9-default-rtdb.firebaseio.com",
              projectId: "centralcomm-248a9",
              storageBucket: "centralcomm-248a9.firebasestorage.app",
              messagingSenderId: "796912003621",
              appId: "1:796912003621:web:0d6fd82e43399871a9edcc",
              measurementId: "G-CN0S9L5YV4"
          };
          const app = initializeApp(firebaseConfig);
          const db = getDatabase(app);

          var No = 0;
          var tbody = document.getElementById('tbody1');
          function AddItemToTable(ctrl_No, time, date, from, office, subject, time2, date2, endorsed, remarks, fC, status){
              let trow = document.createElement("tr");
              let td1 = document.createElement('td'); //No.
              let td2 = document.createElement('td'); //Ctrl_No
              let td3 = document.createElement('td'); //Time
              let td4 = document.createElement('td'); //Date
              let td5 = document.createElement('td'); //From
              let td6 = document.createElement('td'); //Office
              let td7 = document.createElement('td'); //Subject
              let td8 = document.createElement('td'); //Subject
              let td9 = document.createElement('td'); //Subject
              let td10 = document.createElement('td'); //Subject
              let td11 = document.createElement('td'); //Subject
              let td12 = document.createElement('td'); //Subject
              let td13 = document.createElement('td'); //Subject
              

              td1.innerHTML = ++No;
              td2.innerHTML = ctrl_No;
              td3.innerHTML = time;
              td4.innerHTML = date;
              td5.innerHTML = from;
              td6.innerHTML = office;
              td7.innerHTML = subject;
              td8.innerHTML = time2;
              td9.innerHTML = date2;
              td10.innerHTML = endorsed;
              td11.innerHTML = remarks;
              td12.innerHTML = fC;
              td13.innerHTML = status;

              trow.appendChild(td1);
              trow.appendChild(td2);
              trow.appendChild(td3);
              trow.appendChild(td4);
              trow.appendChild(td5);
              trow.appendChild(td6);
              trow.appendChild(td7);
              trow.appendChild(td8);
              trow.appendChild(td9);
              trow.appendChild(td10);
              trow.appendChild(td11);
              trow.appendChild(td12);
              trow.appendChild(td13);

              tbody.appendChild(trow);
          }

          var ctrl_No = document.getElementById('ctrlMod')
          var timeMod = document.getElementById('timeMod');
          var dateMod = document.getElementById('dateMod');
          var fromMod = document.getElementById('fromMod');
          var officeMod = document.getElementById('officeMod');
          var subjectMod = document.getElementById('subMod');
          var time2 = document.getElementById('time2')
          var date2 = document.getElementById('date2')
          var endorsed = document.getElementById('endorsed')
          var remarks = document.getElementById('remarks')
          var fC = document.getElementById('fC')
          var status = document.getElementById('status')

          function AddAllItemsToTable(January){
              No = 0;
              tbody.innerHTML="";
              January.forEach(element => {
                  AddItemToTable(element.ctrl_No, element.time, element.date, element.from, element.office, element.subject, element.time2, element.date2, element.endorsed, element.remarks, element.fC, element.status);
              });
          }    

      //----------Fetch All Data----------//
          
          function GetAllDataOnce(){
              const dbref = ref(db);

              get(child(dbref, "January"))
              .then((snapshot)=>{
                  var letters = [];

                  snapshot.forEach(childSnapshot => {
                      letters.push(childSnapshot.val());
                  });

                  AddAllItemsToTable(letters);
              })

          }

          function GetAllDataRealtime(){
              const db = getDatabase(app);
              const dbref = ref(db, "January");

              onValue(dbref,(snapshot)=>{
                  var letters = [];

                  snapshot.forEach(childSnapshot => {
                      letters.push(childSnapshot.val());
                  });

                  AddAllItemsToTable(letters);
              });

          }
          
          window.onload = GetAllDataRealtime;
</script>
 <script src="Dashboard-Function.js"></script>
</body>
</html>







